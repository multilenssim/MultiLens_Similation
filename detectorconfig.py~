class DetectorConfig(object):
    def __init__ (self, edge_length, base, pmtxbins, pmtybins, diameter_ratio, thickness_ratio, blockers=True, blocker_thickness_ratio=1.0/1000, detector_r=0., nsteps=10):
        # Two configurations are considered here: one with a single planar detecting surface for each
        # icosahedral side (detector_r=0.) and one with curved detecting surfaces behind each lens system
        # with radius of curvature detector_r. 
        # Note that for curved detector surfaces, increasing base also increases total PMTs for fixed pmtxbins
        self.edge_length = edge_length # Length of an icosahedral edge for the lens plane
        self.base = base # Number of lens systems at the base of each lens plane triangle
        self.pmtxbins = pmtxbins # If planar, bins in x for each plane; if curved, bins in theta for each curved detecting surface
        self.pmtybins = pmtybins
        self.diameter_ratio = diameter_ratio # Ratio of lens system diameter to diameter for max packing 
        self.thickness_ratio = thickness_ratio # Sets lens params for old configs
        self.blockers = blockers # Toggles blocking surfaces at the lens plane between lenses
        self.blocker_thickness_ratio = blocker_thickness_ratio # Sets thickness of blockers; should have no effect
        self.detector_r = detector_r # radius of curvature of detecting surfaces; if 0, assumes they are flat
        self.nsteps = nsteps # number of steps to generate curved detecting surface - sets number of PMTs

# All configpc diameters given are for kabamlandpc packing (different for kabamland2) 
# Up to configpc4, focal_length=diameter
configdict = {'config1': DetectorConfig(10.0, 9, 81, 81, 0.5, 0.25)} #focal_length = 0.4884255
configdict['config2'] = DetectorConfig(10.0, 9, 81, 81, 0.2, 0.25) #focal_length = 0.1953702
configdict['config3'] = DetectorConfig(10.0, 9, 81, 81, 0.1, 0.5) #focal_length = 0.0527585
configdict['config4'] = DetectorConfig(10.0, 9, 81, 81, 1.0, 0.25) #focal_length = 0.9768511
configdict['config5'] = DetectorConfig(10.0, 9, 81, 81, 1.0, 0.5) #focal_length = 0.5275846
configdict['config6'] = DetectorConfig(10.0, 9, 81, 81, 1.0, 0.75) #focal_length = 0.4262341
configdict['config7'] = DetectorConfig(10.0, 9, 81, 81, 0.75, 0.25) #focal_length = 0.7326383
configdict['config8'] = DetectorConfig(10.0, 6, 81, 81, 0.1, 0.5) #focal_length = 0.0791377
configdict['config9'] = DetectorConfig(10.0, 6, 81, 81, 0.5, 0.25) #focal_length = 0.7326383
configdict['config10'] = DetectorConfig(10.0, 6, 81, 81, 0.2, 0.25) #focal_length = 0.2930553
configdict['configpc1'] = DetectorConfig(10.0, 9, 81, 81, 0.5, 0.25)#coma_length=diameter=0.32075014955
configdict['configpc2'] = DetectorConfig(10.0, 9, 81, 81, 0.2, 0.25)#coma_length=diameter=0.12830005982
configdict['configpc3'] = DetectorConfig(10.0, 9, 81, 81, 0.75, 0.25)#coma_length=diameter=0.48112522
configdict['configpc4'] = DetectorConfig(10.0, 6, 81, 81, 0.5, 0.25)#coma_length=diameter=0.48112522, k2 fl=1.0
configdict['configpc5'] = DetectorConfig(10.0, 6, 81, 81, 0.2, 0.25)
configdict['configpc6'] = DetectorConfig(10.0, 9, 81, 81, 1.0, 0.25)
configdict['configpc7'] = DetectorConfig(10.0, 6, 81, 81, 1.0, 0.25)#pc dia=0.96225045, k2 dia=0.742715726, k2 fl=2.0
configdict['configview'] = DetectorConfig(10.0, 4, 81, 81, 1.0, 0.25)
configdict['configcurvedtest'] = DetectorConfig(10.0, 3, 3, 9, 1.0, 0.25, detector_r = 2, nsteps=10)
configdict['cfJiani3_1'] = DetectorConfig(10.0, 6, 9, 9, 1.0, 0.25, detector_r = 2, nsteps=15)


